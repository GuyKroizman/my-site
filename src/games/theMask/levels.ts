import type { LevelConfig } from './types'
import { parseGridLevel } from './types'

/**
 * Start at this level when the game runs (0-based).
 * Change this to test a specific level, e.g. 2 for level 3.
 */
export const START_LEVEL = 0

/**
 * Grid-based level definitions with 1:1 ratio (1 character = 1 world unit).
 *
 * Characters:
 *   1-9 = box pile (number = stack height)
 *   t/T = turret
 *   r/R = rolie
 *   p/P = player spawn
 *   .   = empty
 *
 * Grid layout:
 *   - First row = back of arena (far -Z)
 *   - Last row = front of arena (near +Z)
 *   - Left column = left side (-X)
 *   - Right column = right side (+X)
 *
 * Cell size is 1 world unit (1:1 ratio).
 */

// Level 1: Simple intro level
const LEVEL_1 = parseGridLevel(`
................................................
................................................
..333.............................272...........
................................................
................................................
................................................
..........t.....................................
................................................
................................................
..272.........17971.............................
................................................
................................................
................................................
................................................
................................................
...............797.797..333.....................
................................................
................................................
................................................
................................................
................................................
..313.....................................p.....
................................................
................................................
`, 1)

// Level 2: Two turrets, more rolies
const LEVEL_2 = parseGridLevel(`
........................................................
........................................................
......4718349...........................................
........................................................
...4................7...................................
...4....r...........7...................................
...4................7...................................
..........t.............................................
........................................................
...3.......5..........t.................................
...8......7.............................................
...3.......3............r...............................
........................................................
..............t.....................89799.......44..44..
........................................................
...2........................................13..........
...2..............................8.........16..........
...2..r...........9999..........42737.......13..........
..............r...9999..............................p...
........................................................
`, 1)

// Level 3: Multiple turrets and rolies
const LEVEL_3 = parseGridLevel(`
................................................................
...5....r.......t...............44......r....................4..
...5....................................r....................4..
................................................................
...3...........4....................3...........................
...3...........4.....................3..........................
........r.......................................................
...3......t...........t.........33..............................
...3..............................33............................
................................................................
...4...........4.....................4..........................
...4...........4.....................4..........................
..r.............................................................
...3.....t..........t............6..............................
...3.............................6..............................
...3.............................6..............................
................................................................
...5.............t...............5........................p.....
...5.............................5..............................
`, 1)

// Level 4: Maze with turrets
const LEVEL_4 = parseGridLevel(`
......................................................................
......................................................................
..999999999999....................999999999999........................
..99........................r.........99..............................
..99......t...........................99..........t...........r.......
..99..................................99..............................
..99..................................99..............................
......................r...............................................
..99999999....................999999999999............................
......................................t...............................
..33........r.................33......................................
..33..........................33......................................
......................................................................
..44......t.........t.........44......................................
..44..........................44......................................
......................................................................
..................................p...................................
......................................................................
`, 1)

// Level 5: Rolie gauntlet
const LEVEL_5 = parseGridLevel(`
..........................................................................
..55..r...........r...........r...........r.........55....................
..55................................................55....................
..........................................................................
..33......t...................t...................33......................
..33..........................................33......................
..........................................................................
..44..r...........r...........r...........r.........44....................
..44................................................44....................
..........................................................................
..33......t...................t...................33......................
..33..............................................33......................
..........................................................................
..55..r...........r...........r...........r.........55....................
..55................................................55....................
..........................................................................
..66..................................................p...................
..66......................................................................
`, 1)

// Level 6: Heavy turret defense
const LEVEL_6 = parseGridLevel(`
....................................................................................
...........9..........t.........t.........t....................9....................
..9999999999..........t.........t.........t...........99999999......................
..99......................................................................99........
..99..........r.............................r.......................................
..99......................................................................99........
..99......................................................................99........
..........t...................9999....................t.............................
..........t...................9999....................t.............................
..99......................................................................99........
..............r.............................r.......................................
..99......................................................................99........
..99......................................................................99........
......................t.........t.........t...........9999999999....................
..999999..............t.........t.........t.........................................
....................................................................................
..55......................................................................p.........
..55................................................................................
`, 1)

// Level 7: Final challenge
const LEVEL_7 = parseGridLevel(`
............................................................................................
............................t.........t.........t...........................................
..999999999999999...........t.........t.........t...........999999999999999.................
..99....................................................................................9...
..99................t.......................t.......r...................................9...
..99....................................................................................9...
..99....................................................................................9...
..99....................................................................................9...
..............t.............................................t...............................
..............t.............................................t...............................
..99....................................................................................9...
..99.....................................................................................9..
..99.....................................................................................9..
..99................t.......................t............................................9..
..99.....................................................................................9..
............................................................................................
..999999999999999...........t.........t.........t...........999999999999999.................
............................................................................................
..66....................................................................................p...
..66........................................................................................
`, 1)

/** All levels. Each level has its own arena dimensions derived from grid size. */
export const LEVELS: LevelConfig[] = [
  LEVEL_1,
  LEVEL_2,
  LEVEL_3,
  LEVEL_4,
  LEVEL_5,
  LEVEL_6,
  LEVEL_7,
]
